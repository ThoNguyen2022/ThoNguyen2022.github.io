<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Form ∆Ø·ªõc L∆∞·ª£ng In Danh Thi·∫øp</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f0f2f5;
      margin: 0 auto;
      padding: 20px;
      max-width: 600px;
    }
	#summaryButton.copied {
	  background-color: #28a745;
	  color: white;
	}


    h2 {
      color: #333;
      text-align: center;
    }

    label {
      font-weight: bold;
      display: block;
      margin-top: 12px;
    }

    input, select, button {
      width: 100%;
      padding: 10px;
      margin-top: 6px;
      margin-bottom: 12px;
      border: 1px solid #ccc;
      border-radius: 6px;
      box-sizing: border-box;
      font-size: 15px;
    }

    .row {
      display: flex;
      gap: 10px;
    }

    .row .half {
      flex: 1;
    }

    button {
      background-color: #007bff;
      color: white;
      font-weight: bold;
      cursor: pointer;
      border: none;
      transition: background 0.3s ease;
    }

    button:hover {
      background-color: #0056b3;
    }

    #summaryBox {
      background-color: #e0f7e9;
      border-left: 5px solid #28a745;
      padding: 15px;
      border-radius: 8px;
      margin-top: 10px;
      white-space: pre-line;
      color: #333;
      font-size: 16px;
    }

    #summaryButtons {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }

    #summaryButtons button {
      flex: 1;
    }
  </style>
</head>
<body>
  <h2>∆Ø·ªõc T√≠nh In Danh Thi·∫øp</h2>
  <form id="printForm">
    <label for="quantity">S·ªë l∆∞·ª£ng</label>
    <input type="number" id="quantity" value="100" required />

    <label>K√≠ch th∆∞·ªõc (mm)</label>
    <div class="row">
      <div class="half">
        <input type="number" id="length" value="54" placeholder="D√†i (mm)" />
      </div>
      <div class="half">
        <input type="number" id="width" value="90" placeholder="R·ªông (mm)" />
      </div>
    </div>

    <label for="sides">S·ªë m·∫∑t in</label>
    <select id="sides">
      <option value="2" selected>2 m·∫∑t</option>
      <option value="1">1 m·∫∑t</option>
    </select>

    <label for="province">T·ªânh/th√†nh ph·ªë giao h√†ng</label>
    <select id="province"></select>

    <label>Th·ªùi gian s·∫£n xu·∫•t (∆∞·ªõc l∆∞·ª£ng)</label>
    <input type="text" id="productionTime" readonly />

    <label>Th·ªùi gian ship (∆∞·ªõc l∆∞·ª£ng)</label>
    <input type="text" id="shippingTime" readonly />

    <label>Ng√†y giao d·ª± ki·∫øn</label>
    <input type="text" id="estimatedDelivery" readonly />

    <label>T·ªïng ti·ªÅn (VNƒê)</label>
    <input type="text" id="totalCost" readonly />

    <div id="summaryButtons">
      <button type="button" id="summaryButton" onclick="generateSummary()">üìã T√≥m t·∫Øt & Sao ch√©p</button>
    </div>

    <div id="summaryBox" style="display:none;"></div>
  </form>

  <script>
    const provinces = [
      "An Giang", "B√† R·ªãa - V≈©ng T√†u", "B·∫Øc Giang", "B·∫Øc K·∫°n", "B·∫°c Li√™u", "B·∫Øc Ninh", "B·∫øn Tre",
      "B√¨nh ƒê·ªãnh", "B√¨nh D∆∞∆°ng", "B√¨nh Ph∆∞·ªõc", "B√¨nh Thu·∫≠n", "C√† Mau", "C·∫ßn Th∆°", "Cao B·∫±ng",
      "ƒê√† N·∫µng", "ƒê·∫Øk L·∫Øk", "ƒê·∫Øk N√¥ng", "ƒêi·ªán Bi√™n", "ƒê·ªìng Nai", "ƒê·ªìng Th√°p", "Gia Lai", "H√† Giang",
      "H√† Nam", "H√† N·ªôi", "H√† Tƒ©nh", "H·∫£i D∆∞∆°ng", "H·∫£i Ph√≤ng", "H·∫≠u Giang", "H√≤a B√¨nh", "H∆∞ng Y√™n",
      "Kh√°nh H√≤a", "Ki√™n Giang", "Kon Tum", "Lai Ch√¢u", "L√¢m ƒê·ªìng", "L·∫°ng S∆°n", "L√†o Cai", "Long An",
      "Nam ƒê·ªãnh", "Ngh·ªá An", "Ninh B√¨nh", "Ninh Thu·∫≠n", "Ph√∫ Th·ªç", "Ph√∫ Y√™n", "Qu·∫£ng B√¨nh", "Qu·∫£ng Nam",
      "Qu·∫£ng Ng√£i", "Qu·∫£ng Ninh", "Qu·∫£ng Tr·ªã", "S√≥c TrƒÉng", "S∆°n La", "T√¢y Ninh", "Th√°i B√¨nh", "Th√°i Nguy√™n",
      "Thanh H√≥a", "Th·ª´a Thi√™n Hu·∫ø", "Ti·ªÅn Giang", "TP. H·ªì Ch√≠ Minh", "Tr√† Vinh", "Tuy√™n Quang", "Vƒ©nh Long",
      "Vƒ©nh Ph√∫c", "Y√™n B√°i"
    ];

    const fastProvinces = ["TP. H·ªì Ch√≠ Minh", "B√¨nh D∆∞∆°ng", "ƒê·ªìng Nai", "Long An", "T√¢y Ninh"];
    const midProvinces = ["C·∫ßn Th∆°", "V≈©ng T√†u", "Ti·ªÅn Giang", "B·∫øn Tre", "Vƒ©nh Long"];
	const farProvinces = ["H√† N·ªôi", "ƒê√† N·∫µng", "Kh√°nh H√≤a", "B√¨nh Thu·∫≠n", "Ninh Thu·∫≠n", "B√¨nh ƒê·ªãnh"];

    const provinceSelect = document.getElementById("province");
    provinces.forEach(p => {
      const opt = document.createElement("option");
      opt.value = opt.text = p;
      provinceSelect.add(opt);
    });
    provinceSelect.value = "TP. H·ªì Ch√≠ Minh";

    function calculate() {
      const quantity = parseInt(document.getElementById("quantity").value);
      const length = parseFloat(document.getElementById("length").value);
      const width = parseFloat(document.getElementById("width").value);
      const sides = parseInt(document.getElementById("sides").value);
      const province = document.getElementById("province").value;

      const standardLength = 54, standardWidth = 90;
      let dailyCapacity = 100;

      if (Math.abs(length - standardLength) > 1 || Math.abs(width - standardWidth) > 1) {
        dailyCapacity /= 2;
      }
      if (sides === 1) {
        dailyCapacity *= 2;
      }

      const productionDays = Math.ceil(quantity / dailyCapacity);

      let shippingDays = 4;
      if (fastProvinces.includes(province)) shippingDays = 1;
      else if (midProvinces.includes(province)) shippingDays = 2;
	  else if (farProvinces.includes(province)) shippingDays = 3;

      const today = new Date();
      const estimatedDate = new Date(today);
      estimatedDate.setDate(today.getDate() + productionDays + shippingDays);
      const formattedDate = estimatedDate.toLocaleDateString("vi-VN");

       let unitPrice = 1000;
      if (quantity >= 5000) unitPrice = 300;
      else if (quantity >= 2000) unitPrice = 400;
      else if (quantity >= 1000) unitPrice = 500;
      else if (quantity >= 500) unitPrice = 600;
      else if (quantity >= 200) unitPrice = 800;
      else if (quantity >= 100) unitPrice = 1000;

      const total = quantity * unitPrice;

      document.getElementById("productionTime").value = productionDays + " ng√†y";
      document.getElementById("shippingTime").value = shippingDays + " ng√†y";
      document.getElementById("estimatedDelivery").value = formattedDate;
      document.getElementById("totalCost").value = total.toLocaleString() + " ƒë";
    }

    function generateSummary() {
	  const quantity = document.getElementById("quantity").value;
	  const length = document.getElementById("length").value;
	  const width = document.getElementById("width").value;
	  const sides = document.getElementById("sides").value;
	  const productionTime = document.getElementById("productionTime").value;
	  const shippingTime = document.getElementById("shippingTime").value;
	  const deliveryDate = document.getElementById("estimatedDelivery").value;
	  const totalCost = document.getElementById("totalCost").value;

	  const summaryText =
`üßæ ƒê∆°n h√†ng: ${quantity} c√°i - K√≠ch th∆∞·ªõc ${length}x${width}mm - In ${sides} m·∫∑t
‚öôÔ∏è Th·ªùi gian s·∫£n xu·∫•t: ${productionTime}
üöö Th·ªùi gian giao h√†ng: ${shippingTime}
üìÖ Ng√†y d·ª± ki·∫øn giao: ${deliveryDate}
üí∞ T·ªïng ti·ªÅn: ${totalCost}`;

	  const summaryHTML = `
		<div><span class="icon">üßæ</span><strong>ƒê∆°n h√†ng:</strong> ${quantity} c√°i - ${length}x${width}mm - In ${sides} m·∫∑t</div>
		<div><span class="icon">‚öôÔ∏è</span><strong>S·∫£n xu·∫•t:</strong> ${productionTime}</div>
		<div><span class="icon">üöö</span><strong>Giao h√†ng:</strong> ${shippingTime}</div>
		<div><span class="icon">üìÖ</span><strong>D·ª± ki·∫øn giao:</strong> ${deliveryDate}</div>
		<div><span class="icon">üí∞</span><strong>T·ªïng ti·ªÅn:</strong> ${totalCost}</div>
	  `;

	  const box = document.getElementById("summaryBox");
	  box.style.display = "block";
	  box.innerHTML = summaryHTML;

	  navigator.clipboard.writeText(summaryText).then(() => {
		const btn = document.getElementById("summaryButton");
		btn.classList.add("copied");
		btn.textContent = "‚úÖ ƒê√£ copy";
	  });
	}

    document.querySelectorAll("input, select").forEach(el => {
      el.addEventListener("input", calculate);
    });

    window.onload = calculate;
	document.querySelectorAll("input, select").forEach(el => {
    el.addEventListener("input", () => {
      const btn = document.getElementById("summaryButton");
      btn.classList.remove("copied");
      btn.textContent = "üìã T√≥m t·∫Øt & Sao ch√©p";
    });
  });
  </script>
</body>
</html>
